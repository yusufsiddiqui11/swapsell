{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/payment-service/payment.service\";\nimport * as i2 from \"@angular/forms\";\nexport let PaymentComponent = /*#__PURE__*/(() => {\n  class PaymentComponent {\n    //  @ViewChild('paypalRef',{static:true}) private paypalRef : ElementRef;\n    //  ngOnInit(): void {\n    //   console.log(window.paypal);\n    //   window.paypal.Buttons(\n    //     {\n    //       style:{\n    //         layout:'horizontal',\n    //         color:'blue',\n    //         shape:'rect',\n    //         label:'paypal'\n    //       },\n    //       createOrder:(data,actions) =>{\n    //         return actions.order.create({\n    //           purchase_units:[\n    //             {\n    //               amount : {\n    //                 value:'100',\n    //                 currency:'INR'\n    //               }\n    //             }\n    //           ]\n    //         })\n    //       },\n    //       onApprove:(data,actions)=>{\n    //         return actions.order.capture().then(details =>{\n    //           alert(\"Transaction completed\");\n    //         });\n    //       },\n    //       onError:error =>{\n    //         console.log(error);\n    //       }\n    //     } \n    //   ).render(this.paypalRef.nativeElement);\n    //   }\n    // addScript:boolean =false;\n    // payPalLoad : boolean = false;\n    // finalAmount:number = 1;\n    // paypalConfig = {\n    //   env:'sandbox',\n    //   client : {\n    //     sandbox:'AcFxM4s-ajIUTPv04DAmjtF2DFM0ISHZhRdQBzGaUjbdRaY6vRO-oqimrPTEXffCKe2VML5KZUkAX0yF',\n    //     production:'<your-production-key here>'\n    //   },\n    //   commit:true,\n    //   payment:(data,actions) => {\n    //     return actions.payment.create({\n    //       payment:{\n    //         transactions:[\n    //           {amount:{total:this.finalAmount}}\n    //         ]\n    //       }\n    //     })\n    //   },\n    //   onAuthorize:(data,actios) =>{\n    //     return actios.payment.execute().then((payment) =>{\n    //       // Do something after the payment is successfull\n    //     })\n    //   }\n    // };\n    // ngAfterViewChecked():void{\n    //   if(!this.addScript){\n    //     this.addPayPalScript().then(()=>{\n    //       paypal.Button.render(this.paypalConfig,'#paypal-checkout-btn')\n    //       this.payPalLoad=false\n    //     })\n    //   }\n    // }\n    // addPayPalScript(){\n    //   this.addScript=true;\n    //   return new Promise((resolve,reject)=>{\n    //       let scriptTagElement = document.createElement('script');\n    //       scriptTagElement.src = \"http://www.paypalobjects.com/api/checkout.js\";\n    //       scriptTagElement.onload =resolve;\n    //       document.body.appendChild(scriptTagElement);\n    //   })\n    // }\n    submitForm() {\n      console.log(this.orderData);\n      this.paymentCheckOut();\n    }\n    constructor(paymentService) {\n      this.paymentService = paymentService;\n      this.orderData = {\n        price: 100,\n        currency: 'USD',\n        method: 'SALE',\n        intent: 'PAYPAL',\n        description: 'sell me'\n      };\n    }\n    paymentCheckOut() {\n      this.paymentService.createOrder(this.orderData).subscribe(data => {\n        // const redirectUrl = data.redirectUrl;\n        const redirectUrl = data;\n        console.log(JSON.stringify(redirectUrl));\n        const redirectUrlObjToString = JSON.stringify(redirectUrl);\n        const parseObje = JSON.parse(redirectUrlObjToString);\n        const theUrl = parseObje.redirectUrl;\n        console.log(theUrl);\n        window.location.href = theUrl;\n      }, error => {\n        console.error(error);\n      });\n    }\n  }\n  PaymentComponent.ɵfac = function PaymentComponent_Factory(t) {\n    return new (t || PaymentComponent)(i0.ɵɵdirectiveInject(i1.PaymentService));\n  };\n  PaymentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PaymentComponent,\n    selectors: [[\"app-payment\"]],\n    decls: 29,\n    vars: 5,\n    consts: [[1, \"row\"], [1, \"col-75\"], [1, \"container\"], [\"action\", \"pay\", 3, \"submit\"], [1, \"col-50\"], [1, \"icon-container\"], [\"width\", \"48\", \"height\", \"48\", \"src\", \"https://img.icons8.com/color/48/visa.png\", \"alt\", \"visa\"], [\"width\", \"48\", \"height\", \"48\", \"src\", \"https://img.icons8.com/fluency/48/amex.png\", \"alt\", \"amex\"], [\"width\", \"48\", \"height\", \"48\", \"src\", \"https://img.icons8.com/color/48/mastercard.png\", \"alt\", \"mastercard\"], [\"for\", \"price\"], [\"type\", \"text\", \"id\", \"price\", \"name\", \"price\", \"value\", \"10\", \"disabled\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"currency\"], [\"type\", \"text\", \"id\", \"currency\", \"name\", \"currency\", \"placeholder\", \"Enter currency\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"method\"], [\"type\", \"text\", \"id\", \"method\", \"name\", \"paymentMethod\", \"placeholder\", \"payment method\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"intent\"], [\"type\", \"text\", \"id\", \"intent\", \"name\", \"intent\", \"value\", \"sale\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"name\", \"paymentDescription\", \"placeholder\", \"Payment Description\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"continue to checkout\", 1, \"btn\"]],\n    template: function PaymentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\n        i0.ɵɵlistener(\"submit\", function PaymentComponent_Template_form_submit_3_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"h3\");\n        i0.ɵɵtext(6, \"Payment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"label\");\n        i0.ɵɵtext(8, \"Accepted Cards\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵelement(10, \"img\", 6)(11, \"img\", 7)(12, \"img\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"label\", 9);\n        i0.ɵɵtext(14, \"Total\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.orderData.price = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"label\", 11);\n        i0.ɵɵtext(17, \"Currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.orderData.currency = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"label\", 13);\n        i0.ɵɵtext(20, \"Payment Method\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.orderData.method = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"label\", 15);\n        i0.ɵɵtext(23, \"Intent\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_24_listener($event) {\n          return ctx.orderData.intent = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"label\", 17);\n        i0.ɵɵtext(26, \"Payment Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"input\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_27_listener($event) {\n          return ctx.orderData.description = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(28, \"input\", 19);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngModel\", ctx.orderData.price);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.orderData.currency);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.orderData.method);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.orderData.intent);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.orderData.description);\n      }\n    },\n    dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm],\n    styles: [\"body[_ngcontent-%COMP%]{font-family:Arial;font-size:17px;padding:8px}*[_ngcontent-%COMP%]{box-sizing:border-box}.row[_ngcontent-%COMP%]{display:flex;-ms-flex-wrap:wrap;margin:3vh -16px}.col-25[_ngcontent-%COMP%]{flex:25%}.col-50[_ngcontent-%COMP%]{flex:50%}.col-75[_ngcontent-%COMP%]{flex:75%}.col-25[_ngcontent-%COMP%], .col-50[_ngcontent-%COMP%], .col-75[_ngcontent-%COMP%]{padding:0 16px}.container[_ngcontent-%COMP%]{background-color:#f2f2f2;padding:5px 20px 15px;border:1px solid lightgray;border-radius:3px}input[type=text][_ngcontent-%COMP%]{width:100%;margin-bottom:20px;padding:12px;border:1px solid #ccc}label[_ngcontent-%COMP%]{margin-bottom:10px;display:block}.icon-container[_ngcontent-%COMP%]{margin-bottom:20px;padding:7px 0;font-size:24px}.btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:12px;margin:10px 0;border:none;width:100%;border-radius:3px;cursor:pointer;font-size:17px}.btn[_ngcontent-%COMP%]:hover{background-color:#45a049}a[_ngcontent-%COMP%]{color:#2196f3}hr[_ngcontent-%COMP%]{border:1px solid lightgray}span.price[_ngcontent-%COMP%]{float:right;color:gray}\"]\n  });\n  return PaymentComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}